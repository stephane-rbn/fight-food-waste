{% extends 'base.html.twig' %}

{% block title %}Profile{% endblock %}

{% block body %}

    <h1>Profile</h1>

    {% if user.errors is not empty %}
        <p>Errors:</p>
        <ul>
            {% for error in user.errors %}
                <li>{{ error }}</li>
            {% endfor %}
        </ul>
    {% endif %}

    <form action="/profile/update" method="POST">
        <div class="form-group">
            <label for="inputFirstName">First name</label>
            <input type="text" class="form-control" id="inputFirstName" name="firstName" placeholder="First name" value="{{ user.firstName }}" required>
        </div>

        <div class="form-group">
            <label for="inputMiddleName">Middle name</label>
            <input type="text" class="form-control" id="inputMiddleName" name="middleName" placeholder="Middle name" value="{{ user.middleName }}">
        </div>

        <div class="form-group">
            <label for="inputLastName">Last name</label>
            <input type="text" class="form-control" id="inputLastName" name="lastName" placeholder="Last name" value="{{ user.lastName }}" required>
        </div>

        <div class="form-group">
            <label for="inputEmail">Email</label>
            <input type="email" class="form-control" id="inputEmail" name="email" placeholder="Email" value="{{ user.email }}">
        </div>

        <div class="form-group">
            <label for="inputPhoneNumber">Phone number</label>
            <input type="text" class="form-control" id="inputPhoneNumber" name="phoneNumber" placeholder="Phone number" value="{{ user.phoneNumber }}" required>
        </div>

        <div class="form-group">
            <label for="inputCompanyName">Company name</label>
            <input type="text" class="form-control" id="inputCompanyName" name="companyName" placeholder="Company name" value="{{ user.companyName }}">
        </div>

        <div class="form-group">
            <label for="inputPassword">Password</label>
            <input type="password" class="form-control" id="inputPassword" name="password" placeholder="Password"
                   pattern="^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$"
                   title="Minimum 8 chars, at least one letter and number."
                   aria-describedby="helpBlock">
            <span id="helpBlock" class="help-block">Leave blank to keep current password</span>
        </div>

        <div class="form-group">
            <label for="inputPasswordConfirmation">Repeat password</label>
            <input type="password" class="form-control" id="inputPasswordConfirmation" name="passwordConfirmation"
                   placeholder="Repeat password">
        </div>

        <button type="submit" class="btn btn-primary">Save modifications</button>
        <a href="/profile/show" class="btn btn-light">Cancel</a>
    </form>


{% endblock %}
